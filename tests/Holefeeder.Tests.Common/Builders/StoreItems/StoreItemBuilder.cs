using DrifterApps.Seeds.Testing;

using Holefeeder.Domain.Features.StoreItem;
using Holefeeder.Domain.Features.Users;

namespace Holefeeder.Tests.Common.Builders.StoreItems;

internal class StoreItemBuilder : FakerBuilder<StoreItem>
{
    protected override Faker<StoreItem> Faker { get; } = CreatePrivateFaker<StoreItem>()
        .RuleFor(x => x.Id, () => StoreItemId.New)
        .RuleFor(x => x.Code, faker => faker.Random.String2(1, 100))
        .RuleFor(x => x.Data, faker => faker.Random.Words())
        .RuleFor(x => x.UserId, () => UserId.New);

    public static StoreItemBuilder GivenAStoreItem() => new();

    public StoreItemBuilder WithId(StoreItemId id)
    {
        Faker.RuleFor(x => x.Id, id);
        return this;
    }

    public StoreItemBuilder WithNoId()
    {
        Faker.RuleFor(x => x.Id, StoreItemId.Empty);
        return this;
    }

    public StoreItemBuilder WithCode(string code)
    {
        Faker.RuleFor(x => x.Code, code);
        return this;
    }

    public StoreItemBuilder WithData(string data)
    {
        Faker.RuleFor(x => x.Data, data);
        return this;
    }

    public StoreItemBuilder ForUser(UserId userId)
    {
        Faker.RuleFor(x => x.UserId, userId);
        return this;
    }

    public StoreItemBuilder ForNoUser()
    {
        Faker.RuleFor(x => x.UserId, UserId.Empty);
        return this;
    }
}
